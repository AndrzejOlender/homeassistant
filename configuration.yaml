# Configure a default setup
default_config:

# lovelace mode
lovelace:
  mode: yaml

frontend:
  themes: !include themes.yaml

homeassistant:
  customize: !include customize.yaml
  packages: !include_dir_named packages
  packages: !include_dir_named sensor
  packages: !include_dir_named switch

# Yamls
group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml
homekit: !include homekit.yaml
alexa: !include alexa.yaml
recorder: !include recorder.yaml
input_select: !include input_select.yaml
google_assistant: !include google-home.yaml
tts: !include tts.yaml
light: !include light.yaml

# Influxdb
influxdb:
  host: influxdb.metrics
  database: homeassistant

http:

# Device tracker 
device_tracker:
  - platform: luci
    host: 192.168.1.1:8080
    username: root
    password: !secret luci  
    new_device_defaults:
      track_new_devices: false

# Zones
zone:
  - name: Wpkiw
    latitude: 50.281688
    longitude: 18.978667
    radius: 250
    icon: mdi:account-hard-hat

  - name: Yakudo
    latitude: 49.957991
    longitude: 18.964889
    radius: 250
    icon: mdi:account-hard-hat  

# This will override the default home zone
  - name: Home
    latitude: 50.2985936
    longitude: 19.04179
    radius: 250
    icon: mdi:home

# Amazon Alexa
alexa_media:
  accounts:
    - email: !secret amazon_user
      password: !secret amazon_password
      url: amazon.com
      include_devices:
        - "echo"

notify:
  - platform: alexa_media
    name: alexa_media

# TV
webostv:
    name: tv
    host: 192.168.1.6
    turn_on_action:
      - service: remote.send_command
        entity_id: 'remote.xiaomi_miio'
        data:
          command:
          - raw:Z6VHACsCAACjBgAAyggAAI4RAAA9IwAACJ0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAQAAAAAAAQEAAQEBAQEAAAABAAAAAAEBAQABAQEBBQJAA='  
    customize:
      sources:
        - livetv
        - hdmi1
        - youtube
        - netflix  

# Speed test
speedtestdotnet:
  scan_interval:
    minutes: 30
  monitored_conditions:
    - ping
    - download
    - upload

# Remotes    
remote:
  - platform: xiaomi_miio
    host: 192.168.1.3    
    token: e97db4b3d0ffd51e6eda924b270fb2e4
    slot: 1
    timeout: 30
    hidden: false
    commands:
      yamaha:
        command:
          - raw:Z6VDADcCAAB3BgAAaBEAAAwjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjABAAEBAQEAAQABAAAAAAEBAAABAAAAAAABAQABAQEAAA

# Airpurifier
fan:
  - platform: xiaomi_miio
    host: 192.168.1.7
    token: ca40b830acc8cff3afff41db1d31aab6
    name: Air Purifier     

